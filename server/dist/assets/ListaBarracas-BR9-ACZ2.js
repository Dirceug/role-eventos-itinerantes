const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Navbar-CfGvtLrd.js","assets/index-CX-r_TzI.js","assets/index-9u-HInou.css","assets/index-e84cf44d-BDGxaeLU.js","assets/Navbar-C1qii9T-.css","assets/BackButton-CQbU2cYS.js","assets/BackButton-C2Iiso1i.css"])))=>i.map(i=>d[i]);
import{e as _,u as E,r as a,U as k,j as e,b as i,_ as d}from"./index-CX-r_TzI.js";const N=a.lazy(()=>d(()=>import("./Navbar-CfGvtLrd.js"),__vite__mapDeps([0,1,2,3,4]))),T=a.lazy(()=>d(()=>import("./BackButton-CQbU2cYS.js"),__vite__mapDeps([5,1,2,6]))),C=()=>{const l=_(),u=E(),{eventId:n}=l.state||{},{user:h}=a.useContext(k),[c,v]=a.useState(null),[x,j]=a.useState([]);if(a.useEffect(()=>{n&&(async()=>{const t=i.get("authToken");if(!t){console.error("No token found");return}try{const r=await fetch(`http://52.14.179.20/events/${n}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();if(o.barracas){const m=o.barracas;j(m)}else console.error("No barracas found in event data");v(o)}catch(r){console.error("Error fetching event:",r)}})()},[n]),!c)return e.jsx("div",{children:"Loading..."});const p=s=>{u(`/event/${n}/barraca/${s}/cardapio`)},f=i.get("authToken");return e.jsxs(a.Suspense,{fallback:e.jsx("div",{children:"Carregando..."}),children:[e.jsx(N,{user:h,token:f}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:"lista-barracas-container",children:[e.jsx(T,{}),e.jsx("h1",{children:c.nome}),e.jsx("div",{className:"barracas-list",children:x.map(s=>e.jsxs("div",{className:"barraca-card",onClick:()=>p(s._id),children:[e.jsx("h2",{children:s.nome}),e.jsx("h3",{children:s.descricao}),e.jsx("ul",{className:"cardapio-list",children:s.cardapio.filter(t=>t.status==="ativo").map(t=>e.jsx("li",{children:t.nome},t._id))}),e.jsxs("div",{className:"status",children:[e.jsx("strong",{children:"Status:"})," ",s.status]})]},s._id))})]})})]})};export{C as default};

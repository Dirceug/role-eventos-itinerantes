import{u as h,r as k,U as f,j as a,b as l}from"./index-CX-r_TzI.js";import{g as b,a as u,f as T}from"./firebase-BTHzdGE9.js";import{a as m}from"./index-e84cf44d-BDGxaeLU.js";/* empty css                       */import{B as t}from"./ButtonGrande-fEAYhVl3.js";function v(){const n=h(),{setUser:r}=k.useContext(f),d=()=>{m(u,b).then(async e=>{const o=e.user,s=await o.getIdToken();console.log("Token JWT obtido:",s),l.set("authToken",s);const i=await fetch("http://52.14.179.20/users/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({displayName:o.displayName,email:o.email,photoURL:o.photoURL,firebaseUid:o.uid,emailVerified:o.emailVerified,isAnonymous:o.isAnonymous})}),c=await i.json();i.ok?(r(c),n("/usuarios")):console.error("Error saving user:",c)}).catch(e=>{console.error("Error during Google login:",e)})},g=()=>{m(u,T).then(async e=>{const o=e.user,s=await o.getIdToken();l.set("authToken",s),r(o),n("/usuarios")}).catch(e=>{console.error("Error during Facebook login:",e)})},p=()=>{n("/logincomemail")};return a.jsxs("div",{className:"login",children:[a.jsx(t,{onClick:d,className:"social-button",children:"Entrar com Google"}),a.jsx(t,{onClick:g,className:"social-button",children:"Entrar com Facebook"}),a.jsx(t,{onClick:p,className:"social-button",children:"Entrar com e-mail"})]})}export{v as default};

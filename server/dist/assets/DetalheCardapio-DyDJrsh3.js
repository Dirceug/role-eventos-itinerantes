const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Navbar-CfGvtLrd.js","assets/index-CX-r_TzI.js","assets/index-9u-HInou.css","assets/index-e84cf44d-BDGxaeLU.js","assets/Navbar-C1qii9T-.css","assets/BackButton-CQbU2cYS.js","assets/BackButton-C2Iiso1i.css","assets/Comprar-BXzwmOFF.js","assets/index-DQ8UN3GZ.js","assets/index-t--hEgTQ.js","assets/ScaleLoader-q_6BlMiq.js","assets/Comprar-tVRLImHF.css"])))=>i.map(i=>d[i]);
import{d as _,r as s,U as f,j as a,b as p,_ as l}from"./index-CX-r_TzI.js";import{M as N}from"./index-DQ8UN3GZ.js";const C=s.lazy(()=>l(()=>import("./Navbar-CfGvtLrd.js"),__vite__mapDeps([0,1,2,3,4]))),b=s.lazy(()=>l(()=>import("./BackButton-CQbU2cYS.js"),__vite__mapDeps([5,1,2,6]))),g=s.lazy(()=>l(()=>import("./Comprar-BXzwmOFF.js"),__vite__mapDeps([7,1,2,8,9,10,11]))),T=()=>{const{eventId:o,barracaId:i}=_(),[r,u]=s.useState(null),[t,d]=s.useState(null),{user:m}=s.useContext(f);if(s.useEffect(()=>{(async()=>{const n=p.get("authToken");if(!n){console.error("No token found");return}try{const c="http://52.14.179.20",v=await(await fetch(`${c}/events/${o}/barracas/${i}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}})).json();u(v)}catch(c){console.error("Error fetching barraca:",c)}})()},[o,i]),!r)return a.jsx("div",{children:"Loading..."});const x=e=>{d(e)},h=()=>{d(null)},j=p.get("authToken");return a.jsxs(s.Suspense,{fallback:a.jsx("div",{children:"Carregando..."}),children:[a.jsx(C,{user:m,token:j,eventId:o}),a.jsxs("div",{className:"container",children:[a.jsxs("div",{className:"detalhe-cardapio-container",children:[a.jsx("div",{className:"detalhe-evento-cardapio",children:a.jsx(b,{})}),a.jsx("h1",{children:r.nome}),a.jsx("div",{className:"pratos-list",children:r.cardapio.filter(e=>e.status==="ativo").sort((e,n)=>e.nome.localeCompare(n.nome)).map(e=>a.jsxs("div",{className:"prato-card",children:[a.jsx("img",{src:e.imagem,alt:e.nome,className:"prato-imagem"}),a.jsxs("div",{className:"prato-info",children:[a.jsx("h3",{className:"prato-nome",children:e.nome}),a.jsx("p",{className:"prato-ingredientes",children:e.ingredientes}),a.jsxs("div",{className:"prato-bottom",children:[a.jsxs("h3",{className:"prato-valor",children:["R$ ",e.valor]}),a.jsx("button",{onClick:()=>x(e),children:"Comprar"})]}),a.jsxs("p",{className:"prato-tempo",children:[" ",e.tempoPreparo," min"]})]})]},e._id))})]}),t&&a.jsx(N,{isOpen:!!t,onRequestClose:h,className:"comprar-modal",children:a.jsx(s.Suspense,{fallback:a.jsx("div",{children:"Carregando..."}),children:a.jsx(g,{user:m,prato:t,eventId:o,barracaId:i,barracaNome:r.nome,chaveBarraca:r.chaveBarraca,isOpen:!!t,onRequestClose:h})})})]})]})};export{T as default};

import { r as reactExports, u as useNavigate, U as UserContext, j as jsxRuntimeExports, b as api } from "./index-mRIjI52N.js";
const CoracaoPreenchido = "data:image/png;base64,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";
const CoracaoVazado = "data:image/png;base64,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";
const CurtidasButton = ({ eventId, initialLikesCount }) => {
  const [liked, setLiked] = reactExports.useState(false);
  const [likesCount, setLikesCount] = reactExports.useState(initialLikesCount);
  const navigate = useNavigate();
  const { user } = reactExports.useContext(UserContext);
  reactExports.useEffect(() => {
    const checkLikedStatus = async () => {
      const token = api.get("authToken");
      if (!token) {
        console.error("No token found");
        return;
      }
      try {
        const apiUrl = "https://rolesemfila.com.br/api";
        const response = await fetch(`${apiUrl}/curtidas/status?eventoId=${eventId}`, {
          method: "GET",
          headers: {
            "Content-Type": "application/json",
            "Authorization": `Bearer ${token}`
          }
        });
        if (response.ok) {
          const data = await response.json();
          setLiked(data.liked);
          setLikesCount(data.likesCount);
        } else {
          console.error("Error checking liked status:", response.statusText);
        }
      } catch (error) {
        console.error("Error checking liked status:", error);
      }
    };
    checkLikedStatus();
  }, [eventId, user.firebaseUid]);
  const handleLikeClick = async () => {
    const token = api.get("authToken");
    if (!token) {
      alert("Você precisa estar logado para curtir um evento.");
      navigate("/login");
      return;
    }
    try {
      const apiUrl = "https://rolesemfila.com.br/api";
      const response = await fetch(`${apiUrl}/curtidas`, {
        method: liked ? "DELETE" : "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${token}`
        },
        body: JSON.stringify({ eventoId: eventId })
      });
      if (response.ok) {
        setLiked(!liked);
        setLikesCount(liked ? likesCount - 1 : likesCount + 1);
      } else {
        console.error("Error updating like status:", response.statusText);
      }
    } catch (error) {
      console.error("Error updating like status:", error);
    }
  };
  return /* @__PURE__ */ jsxRuntimeExports.jsxs("button", { onClick: handleLikeClick, className: "like-button no-hover", children: [
    /* @__PURE__ */ jsxRuntimeExports.jsx("img", { src: liked ? CoracaoPreenchido : CoracaoVazado, alt: "Like" }),
    likesCount
  ] });
};
export {
  CurtidasButton as default
};
